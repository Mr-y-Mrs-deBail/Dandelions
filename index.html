<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="img/icono2.png">
    <link rel="stylesheet" href="style.css">
    <title>Diente de león</title>
</head>
<body>

    <div class="card">

        <div class="wrapper">
            <img class="cover" src="img/diente-de-leon2.jpg" alt="img">
        </div>

        <img class="logo" src="img/logo.png" alt="img">
        <img class="logo1" src="img/logo1.png" alt="img">

        <img class="character" src="img/M.png" alt="img">
    </div>
    
    <section class="contenedor2">
        <div class="player">
            <div id="info" class="info">
                <span class="artist">Dandelions</span>
                <span class="name">Siempre Juntos♡</span>
                <div id="progress-bar" class="progress-bar">
                    <div class="bar"></div>
                </div>
            </div>
            
            <div id="control-panel" class="control-panel">
                <div class="album-art">
                    <p class="textFondo">Click on the bear!</p>
                    <img id="img1" class="img1" src="img/fondo.png" alt="img">
                </div>
                <div class="controls">
                    <div class="prev"></div>
                    <div class="play" id="play"></div>
                    <div class="next"></div>
                </div>
            </div>
        </div>
        
        <audio id="Music" controls style="display: none;">
            <source  src="audio/dandelions.mp3" type="audio/mpeg">
        </audio>
    </section>
    
    <div class="fireflies firefly1"></div>
    <div class="fireflies firefly2"></div>
    <div class="fireflies firefly3"></div>
    <div class="fireflies firefly4"></div>
    <div class="fireflies firefly5"></div>
    <div class="fireflies firefly6"></div>
    <div class="fireflies firefly7"></div>
    <div class="fireflies firefly8"></div>
    <div class="fireflies firefly9"></div>
    <div class="fireflies firefly10"></div>
    <div class="fireflies firefly11"></div>
    <div class="fireflies firefly12"></div>
    <div class="fireflies firefly13"></div>
    <div class="fireflies firefly14"></div>
    <div class="fireflies firefly15"></div>
    <div class="fireflies firefly16"></div>
    <div class="fireflies firefly17"></div>
    <div class="fireflies firefly18"></div>
    <div class="fireflies firefly19"></div>
    <div class="fireflies firefly20"></div>
    <div class="fireflies firefly21"></div>
    <div class="fireflies firefly22"></div>
    <div class="fireflies firefly23"></div>
    <div class="fireflies firefly24"></div>
    <div class="fireflies firefly25"></div>

    <!-- código js -->
  
    <script>
        class musicPlayer {
        constructor() {
        this.play = this.play.bind(this);
        this.playBtn = document.getElementById('play');
        this.playBtn.addEventListener('click', this.play);
        this.controlPanel = document.getElementById('control-panel');
        this.infoBar = document.getElementById('info');
        this.status = false;
        }

       play() {
        var audio = document.getElementById('Music'); 
        let controlPanelObj = this.controlPanel,
        infoBarObj = this.infoBar
        Array.from(controlPanelObj.classList).find(function(element){   
        return element !== "active" ? controlPanelObj.classList.add('active') : controlPanelObj.classList.remove('active');       
        });

       Array.from(infoBarObj.classList).find(function(element){
        return element !== "active" ? infoBarObj.classList.add('active') : infoBarObj.classList.remove('active');
        });

       this.status = !this.status;

       if(this.status == true){
        audio.play();
        let progressBar = document.getElementById('progress-bar');
        let bar = progressBar.querySelector('.bar');
        let progressInterval = setInterval(() => {
            let audioDuration = audio.duration;
            let audioCurrentTime = audio.currentTime;
            let progressPercentage = (audioCurrentTime / audioDuration) * 100;
            bar.style.width = `${progressPercentage}%`;
            if (audioCurrentTime === audioDuration) {
                clearInterval(progressInterval);
            }
        }, 1000);
     } else {
        audio.pause();
       }
      }
     }

     let player = new musicPlayer();

     let nextBtn = document.querySelector('.next');
     let prevBtn = document.querySelector('.prev');

     nextBtn.addEventListener('click', function() {
     var audio = document.getElementById('Music');
     audio.currentTime += 10;
     });

     prevBtn.addEventListener('click', function() {
     var audio = document.getElementById('Music');
     audio.currentTime -= 10;
     });

    </script>

    <script>
        document.getElementById("img1").addEventListener("click", function() {
        window.location.href = "https://youtu.be/RRoehLgyoIg?si=Kd45IQSqEdDD8E-l";
        });
    </script>
    
</body>

</html>